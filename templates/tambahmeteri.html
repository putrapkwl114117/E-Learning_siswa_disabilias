<!-- Mengimpor Font Awesome untuk ikon -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<link rel="stylesheet" href="../static/materi/formmateri.css">
<div id="materiModal" class="modal7">
    <div class="modal-content7">
        <span class="close">&times;</span>
        <form action="{{ url_for('add_materi') }}" method="POST">
            <div class="form-group">
                <label for="judul">Mata Pelajaran</label>
                <input type="text" name="judul" id="judul" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="nama_guru">Nama Guru</label>
                <input type="text" name="nama_guru" id="nama_guru" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="tingkat_kelas">Tingkat Kelas</label>
                <input type="text" name="tingkat_kelas" id="tingkat_kelas" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="isi_materi">Isi Materi</label>
                <textarea name="isi_materi" id="isi_materi" class="form-control" rows="8" required></textarea>
            </div>
            <div class="form-group">
                <label>Tata Letak</label>
                <div>
                    <span id="left-align" class="layout-option" onclick="alignText('left')"><i
                            class="fas fa-align-left"></i></span>
                    <span id="center-align" class="layout-option" onclick="alignText('center')"><i
                            class="fas fa-align-center"></i></span>
                    <span id="right-align" class="layout-option" onclick="alignText('right')"><i
                            class="fas fa-align-right"></i></span>
                </div>
            </div>
            <div class="form-group">
                <label for="italic">Miringkan Teks</label>
                <input type="checkbox" name="italic" id="italic" onchange="italicizeText()">
            </div>
            <div class="form-group">
                <label for="fontSize">Ukuran Teks</label>
                <input type="number" name="fontSize" id="fontSize" class="form-control" onchange="changeFontSize()">
            </div>
            <div class="form-group">
                <label for="bold">Menebalkan Teks</label>
                <input type="checkbox" name="bold" id="bold" onchange="boldText()">
            </div>
            <div class="form-group">
                <label for="color">Warna Teks</label>
                <input type="color" name="color" id="color" class="form-control" onchange="changeTextColor()">
            </div>
            <button type="submit" class="btn btn-primary">Simpan</button>
        </form>
    </div>
</div>

{% include 'materiguru.html' %}

<script>
    function openMateriModal(tingkatKelas) {
        var modal = document.getElementById('materiModal');
        modal.style.display = 'block';
        document.getElementById('tingkat_kelas').value = tingkatKelas;
    }

    var closeBtn = document.getElementsByClassName("close")[0];
    closeBtn.onclick = function () {
        var modal = document.getElementById('materiModal');
        modal.style.display = 'none';
    }

    function alignText(alignment) {
        var textarea = document.getElementById('isi_materi');
        textarea.style.textAlign = alignment;
    }

    function italicizeText() {
        var textarea = document.getElementById('isi_materi');
        textarea.style.fontStyle = document.getElementById('italic').checked ? 'italic' : 'normal';
    }

    function changeFontSize() {
        var fontSize = document.getElementById('fontSize').value;
        var textarea = document.getElementById('isi_materi');
        textarea.style.fontSize = fontSize + 'px';
        adjustTextareaHeight();
    }

    function boldText() {
        var textarea = document.getElementById('isi_materi');
        textarea.style.fontWeight = document.getElementById('bold').checked ? 'bold' : 'normal';
    }

    function changeTextColor() {
        var textarea = document.getElementById('isi_materi');
        textarea.style.color = document.getElementById('color').value;
    }

    function adjustTextareaHeight() {
        var textarea = document.getElementById('isi_materi');
        textarea.style.height = '';
        textarea.style.height = Math.min(textarea.scrollHeight, 300) + 'px';
    }
</script>

<style>
    .resizable {
        resize: none;
    }
</style>